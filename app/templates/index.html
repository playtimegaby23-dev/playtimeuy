{% extends 'base.html' %}

{% block title %}Inicio - PlayTimeUY{% endblock %}

{% block content %}
<!-- HERO CON VIDEO DE FONDO -->
<div class="relative h-screen w-full flex items-center justify-center overflow-hidden bg-black text-white">

    <!-- VIDEO FONDO -->
    <video autoplay loop muted playsinline
        class="absolute inset-0 w-full h-full object-cover brightness-[0.6] contrast-[1.05] scale-110 z-0">
        <source src="{{ url_for('static', filename='video/banner.mp4') }}" type="video/mp4">
        Tu navegador no soporta el video.
    </video>

    <!-- BACKUP IMG -->
    <img src="{{ url_for('static', filename='img/banner.jpg') }}"
        alt="Banner PlayTimeUY"
        class="absolute inset-0 w-full h-full object-cover brightness-50 hidden z-0" />

    <!-- GLASSMORPHISM LAYER -->
    <div class="absolute inset-0 bg-gradient-to-b from-black/60 via-black/30 to-black/80 backdrop-blur-sm z-10"></div>

    <!-- CONTENIDO CENTRAL -->
    <div class="relative z-20 text-center max-w-3xl px-6 animate-fade-in-up">
        <h1 class="text-5xl md:text-6xl font-extrabold mb-6 leading-tight tracking-wide text-shadow-xl animate-slide-in-down">
            Bienvenid@ a <span class="text-pink-500">PlayTimeUY</span>
        </h1>

        <p class="text-lg md:text-2xl mb-10 text-gray-200 font-light animate-fade-in-up delay-100">
            La plataforma donde las <span class="font-semibold text-white">creadoras uruguayas</span>
            se quedan con el <span class="font-bold text-pink-400">100%</span> de sus ganancias.
            <br class="hidden sm:block"> ¡Tomá el control de tu contenido!
        </p>

        <!-- BOTONES -->
        <div class="flex flex-col sm:flex-row justify-center items-center gap-4 animate-fade-in-up delay-200">
            <a href="{{ url_for('main.login') }}"
                class="px-8 py-3 w-44 text-lg bg-gradient-to-r from-pink-500 to-pink-700 hover:from-pink-600 hover:to-pink-800 text-white rounded-full font-semibold shadow-xl transform transition-all duration-300 hover:scale-105">
                Ingresar
            </a>
            <a href="{{ url_for('main.register') }}"
                class="px-8 py-3 w-44 text-lg border-2 border-white text-white hover:bg-white hover:text-black rounded-full font-semibold shadow-xl transform transition-all duration-300 hover:scale-105">
                Registrarse
            </a>
            <button onclick="signInWithGoogle()"
                class="px-8 py-3 w-44 text-lg flex items-center justify-center gap-2 bg-white text-black hover:bg-gray-200 rounded-full font-semibold shadow-xl transform transition-all duration-300 hover:scale-105">
                <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" alt="Google" class="w-5 h-5">
                Google
            </button>
        </div>
    </div>
</div>

<!-- ESTILOS EXTRA -->
<style>
    @keyframes fade-in-up {
        0% { opacity: 0; transform: translateY(30px); }
        100% { opacity: 1; transform: translateY(0); }
    }

    @keyframes slide-in-down {
        0% { opacity: 0; transform: translateY(-50px); }
        100% { opacity: 1; transform: translateY(0); }
    }

    .animate-fade-in-up {
        animation: fade-in-up 1.3s ease-out both;
    }

    .animate-slide-in-down {
        animation: slide-in-down 1.3s ease-out both;
    }

    .delay-100 { animation-delay: 0.1s; }
    .delay-200 { animation-delay: 0.2s; }

    .text-shadow-xl {
        text-shadow: 0 6px 14px rgba(0, 0, 0, 0.85);
    }

    @media (max-width: 640px) {
        h1 {
            font-size: 2.5rem;
        }

        p {
            font-size: 1rem;
        }
    }
</style>

<!-- SCRIPTS -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
<script>
  const firebaseConfig = {
    apiKey: "YOUR_API_KEY",
    authDomain: "YOUR_AUTH_DOMAIN",
    projectId: "YOUR_PROJECT_ID",
    storageBucket: "YOUR_STORAGE_BUCKET",
    messagingSenderId: "YOUR_SENDER_ID",
    appId: "YOUR_APP_ID",
    measurementId: "YOUR_MEASUREMENT_ID"
  };
  firebase.initializeApp(firebaseConfig);

  function signInWithGoogle() {
    const provider = new firebase.auth.GoogleAuthProvider();
    firebase.auth().signInWithPopup(provider)
      .then((result) => {
        return result.user.getIdToken();
      })
      .then((idToken) => {
        fetch("/login/google", {
          method: "POST",
          headers: {
            "Content-Type": "application/json"
          },
          body: JSON.stringify({ id_token: idToken })
        })
        .then(response => window.location.href = "/dashboard")
        .catch(error => console.error("Error al enviar token al servidor:", error));
      })
      .catch((error) => {
        console.error("Error de autenticación con Google:", error);
      });
  }
</script>
{% endblock %}
