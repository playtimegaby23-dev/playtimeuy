{% extends "base.html" %}
{% block title %}Registro - PlayTimeUY{% endblock %}

{% block content %}
<div class="min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex flex-col lg:flex-row">

  <!-- Panel de bienvenida -->
  <div class="hidden lg:flex lg:w-1/2 bg-gradient-to-br from-fuchsia-700 via-purple-800 to-indigo-900 items-center justify-center p-12 text-white">
    <div class="max-w-md space-y-6 animate-fadeInLeft text-center">
      <h1 class="text-5xl font-extrabold leading-tight">
        ¬°Bienvenido a <span class="text-fuchsia-400">PlayTimeUY</span>!
      </h1>
      <p class="text-lg opacity-90">
        Unite a nuestra comunidad, comparte tu contenido y conecta con creadores y fans sin comisiones.
      </p>
      <img src="{{ url_for('static', filename='images/logo_navbar.png') }}" alt="PlayTimeUY" class="w-32 mx-auto drop-shadow-lg">
    </div>
  </div>

  <!-- Formulario -->
  <div class="flex-1 flex items-center justify-center p-6 lg:p-12">
    <div class="bg-white/10 backdrop-blur-lg border border-white/20 rounded-3xl shadow-2xl p-8 w-full max-w-lg text-white animate-fadeInUp">

      <h2 class="text-3xl font-bold mb-6 text-center">
        Crear cuenta
      </h2>

      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          <div class="mb-6 space-y-3" role="alert">
            {% for category, message in messages %}
              <div class="text-sm px-5 py-3 rounded-lg font-medium
                {% if category == 'danger' %}
                  bg-red-600/90 text-red-100 shadow-md
                {% else %}
                  bg-green-600/90 text-green-100 shadow-md
                {% endif %}">
                {{ message }}
              </div>
            {% endfor %}
          </div>
        {% endif %}
      {% endwith %}

      <form method="POST" class="grid grid-cols-1 md:grid-cols-2 gap-5" id="registroForm" novalidate>
        <input type="text" name="full_name" placeholder="Nombre completo" required autocomplete="name" class="input-field col-span-2">
        <input type="text" name="username" placeholder="Nombre de usuario" required autocomplete="username" class="input-field">
        <input type="email" id="email" name="email" placeholder="Correo electr√≥nico" required autocomplete="email" class="input-field">

        <div class="relative">
          <input type="password" id="password" name="password" placeholder="Contrase√±a" required autocomplete="new-password" class="input-field pr-12">
          <button type="button" data-toggle="password" class="toggle-btn">üëÅÔ∏è</button>
        </div>

        <div class="relative">
          <input type="password" id="confirm_password" name="confirm_password" placeholder="Confirmar contrase√±a" required autocomplete="new-password" class="input-field pr-12">
          <button type="button" data-toggle="confirm_password" class="toggle-btn">üëÅÔ∏è</button>
        </div>

        <input type="date" name="dob" required class="input-field">
        <input type="text" name="country" placeholder="Pa√≠s" required class="input-field">
        <input type="text" name="twitter" placeholder="Twitter (opcional)" class="input-field">
        <input type="text" name="instagram" placeholder="Instagram (opcional)" class="input-field">

        <select name="role" required class="input-field col-span-2">
          <option value="" disabled selected>Selecciona tu rol</option>
          <option value="creator">Creador/a</option>
          <option value="buyer">Comprador/a</option>
          <option value="promoter">Promotor/a</option>
        </select>

        <button type="submit" class="col-span-2 btn-gradient">
          Registrarme
        </button>
      </form>

      <p class="mt-6 text-center text-sm text-gray-300">
        ¬øYa ten√©s cuenta?
        <a href="{{ url_for('main.login') }}" class="underline text-fuchsia-400 hover:text-white transition">Iniciar sesi√≥n</a>
      </p>
    </div>
  </div>
</div>

<style>
  @keyframes fadeInUp { 0% {opacity:0; transform:translateY(20px);} 100% {opacity:1; transform:translateY(0);} }
  @keyframes fadeInLeft { 0% {opacity:0; transform:translateX(-20px);} 100% {opacity:1; transform:translateX(0);} }
  .animate-fadeInUp { animation: fadeInUp .7s ease-out forwards; }
  .animate-fadeInLeft { animation: fadeInLeft .7s ease-out forwards; }

  .input-field {
    @apply w-full px-4 py-3 rounded-lg bg-white/15 border border-white/30 text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-fuchsia-500 transition;
  }
  .toggle-btn {
    @apply absolute top-3 right-3 text-white hover:text-fuchsia-400 transition text-xl select-none;
  }
  .btn-gradient {
    @apply w-full py-3 rounded-xl font-semibold text-white transition shadow-lg;
    background: linear-gradient(90deg, #d946ef, #9333ea);
    box-shadow: 0 4px 15px rgba(217,70,239,0.4);
  }
  .btn-gradient:hover {
    background: linear-gradient(90deg, #e879f9, #a855f7);
    box-shadow: 0 6px 20px rgba(217,70,239,0.6);
  }
</style>

<script src="{{ url_for('static', filename='js/registro.js') }}"></script>
{% endblock %}
