{% extends 'base.html' %}

{% block title %}Explorar - PlayTimeUY{% endblock %}

{% block content %}
<div class="min-h-screen bg-gray-950 text-white py-10">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <h1 class="text-3xl sm:text-4xl font-bold text-pink-400 mb-8 text-center">
            ExplorÃ¡ creadoras destacadas
        </h1>
        
        {% if creadoras %}
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
            {% for creadora in creadoras %}
            <div class="bg-gray-900 rounded-2xl overflow-hidden shadow-lg transform transition hover:scale-105 duration-300">
                <img src="{{ creadora.portada_url }}" 
                     alt="Portada de {{ creadora.nombre }}" 
                     class="w-full h-48 object-cover">
                
                <div class="p-4">
                    <div class="flex items-center space-x-4 mb-4">
                        <img src="{{ creadora.foto_perfil_url }}" 
                             alt="Foto de perfil de {{ creadora.nombre }}" 
                             class="w-12 h-12 rounded-full border-2 border-pink-400">
                        <div>
                            <h2 class="text-lg font-semibold">{{ creadora.nombre }}</h2>
                            <p class="text-sm text-gray-400">@{{ creadora.usuario }}</p>
                        </div>
                    </div>

                    <p class="text-sm text-gray-300 mb-3">
                        {{ creadora.bio|default('', true)|truncate(80) }}
                    </p>

                    <div class="flex items-center justify-between text-sm text-gray-400 mb-4">
                        <div><strong>{{ creadora.seguidores or 0 }}</strong> seguidores</div>
                        <div><strong>{{ creadora.subs or 0 }}</strong> suscripciones</div>
                    </div>

                    <div class="flex justify-between">
                        <a href="{{ url_for('main.perfil_creadora', uid=creadora.uid) }}"
                           class="bg-pink-500 hover:bg-pink-600 text-white text-sm px-4 py-2 rounded-full font-semibold transition">
                            Ver perfil
                        </a>
                        
                        {% if creadora.uid %}
                        <form action="{{ url_for('main.seguir_creadora') }}" method="POST">
                            <input type="hidden" name="creadora_uid" value="{{ creadora.uid }}">
                            <button type="submit"
                                class="bg-transparent hover:bg-pink-500 text-pink-400 hover:text-white border border-pink-400 text-sm px-4 py-2 rounded-full transition">
                                Seguir
                            </button>
                        </form>
                        {% endif %}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <div class="text-center mt-20 text-gray-400">
            <p>No hay creadoras disponibles aÃºn. SÃ© la primera en unirte a la comunidad ðŸ’–</p>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}
